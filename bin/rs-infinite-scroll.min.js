var RsInfiniteScroll=function(n){function t(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return n[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(1),r=o(i),c="rsInfiniteScroll",l=r["default"].module(c,[]);l.directive("rsInfiniteScroll",["$q","$timeout",function(n,t){return{restrict:"A",transclude:!0,template:"<div ng-transclude></div>",scope:{proxy:"="},controller:["$scope","$element",function(e,o){function i(){var n=1,e=-1,i=l(),u=i.containerHeight,g=i.contentHeight;o.on("scroll",function(){t.cancel(d);var o=l(),i=o.containerHeight,u=o.contentHeight,f=o.scrollPos,g=f>a?n:e;g===n&&f>=.9*(u-i)&&0==p&&r(),g===e&&.1*i>=f&&0==p&&c(),a=f,d=t(s,300)}),u>g&&r().then(function(){t(function(){f(1)})})}function r(){if(e.proxy.loadFollowing){var o=n.defer();return p=1,t(function(){e.proxy.loadFollowing().then(function(){p=0,o.resolve()})}),o.promise}}function c(){if(e.proxy.loadPrevious){var i=n.defer(),r=o.find("div").prop("offsetHeight");return p=1,t(function(){e.proxy.loadPrevious().then(function(){t(function(){var n=o.find("div").prop("offsetHeight");f(n-r),p=0,i.resolve()})})}),i.promise}}function l(){var n=o.prop("offsetHeight"),t=o.find("div").prop("offsetHeight"),e=o[0].scrollTop;return{containerHeight:n,contentHeight:t,scrollPos:e}}function u(){return o[0].getBoundingClientRect()}function f(){var n=arguments.length<=0||void 0===arguments[0]?0:arguments[0];o[0].scrollTop=n}function s(){for(var n=u(),t=n.top,e=n.bottom,o=t,i=e,r=0,c=g.length;c>r;r++){var l=g[r],f=l.getBoundingBox(),s=f.top,d=f.bottom,a=d>=o&&i>=d||i>=s&&s>=o;l.setIsVisible(a)}}var d,a=0,p=0,g=[];o.ready(i),e.$on("$destroy",function(){o.off("scroll")}),this.addChild=function(n){g.push(n)}}]}}]),l.directive("rsInfiniteScrollItem",function(){return{require:"^rsInfiniteScroll",restrict:"A",scope:{isVisible:"="},link:function(n,t,e,o){o.addChild(n),n.getBoundingBox=function(){return t[0].getBoundingClientRect()},n.setIsVisible=function(t){n.isVisible=t}}}}),t["default"]=c,n.exports=t["default"]},function(n,t){n.exports=angular}]);